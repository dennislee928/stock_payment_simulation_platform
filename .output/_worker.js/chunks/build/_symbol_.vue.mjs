import{_ as e}from"./nuxt-link.mjs";import{u as t}from"./useStocks.mjs";import{u as r}from"./useCart.mjs";import{v as s,a as d}from"./server.mjs";import{J as i,O as o,K as l,U as a,S as n,W as v}from"../routes/renderer.mjs";import"../nitro/nitro.mjs";const c=s.defineComponent({__name:"[symbol]",__ssrInlineRender:!0,setup(c){const m=d().params.symbol,{loading:u,error:x}=t();r();const{formatCurrency:b,formatPercent:g,formatStockChange:f}={formatCurrency:function(e){return new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},formatPercent:function(e){return new Intl.NumberFormat("zh-TW",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(e/100)},formatDate:function(e){if(!e)return"-";const t=new Date(e);return new Intl.DateTimeFormat("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)},formatStockChange:function(e,t=!0){return 0===e?"0.00":t?`${e>0?"+":""}${e.toFixed(2)}`:e.toFixed(2)}},p=s.ref(null),h=s.ref(1),w=s.ref(!1);return(t,r,d,c)=>{var y;const $=e;r(`<div${i(s.mergeProps({class:"max-w-4xl mx-auto p-4"},c))}>`),s.unref(u)&&!p.value?r('<div class="flex justify-center py-12"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div></div>'):s.unref(x)?r(`<div class="bg-red-50 text-red-700 p-6 rounded-lg"><p class="font-bold">載入失敗</p><p>${o(s.unref(x))}</p><button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"> 重試 </button></div>`):p.value?(r('\x3c!--[--\x3e<div class="mb-6">'),r(l($,{to:"/",class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:s.withCtx(((e,t,r,d)=>{if(!t)return[(s.openBlock(),s.createBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})])),s.createTextVNode(" 返回搜尋 ")];t(`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"${d}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"${d}></path></svg> 返回搜尋 `)})),_:1},d)),r(`</div><div class="bg-white rounded-lg shadow-md p-6 mb-6"><div class="flex flex-col md:flex-row md:justify-between md:items-center mb-6"><div><h1 class="text-2xl font-bold">${o(p.value.symbol)} - ${o(p.value.name)}</h1><p class="text-gray-500 mt-1">${o(p.value.industry||"一般")}</p></div><div class="flex flex-col items-end mt-4 md:mt-0"><div class="text-3xl font-bold">${o(s.unref(b)(p.value.price))}</div><div class="${a([{"text-red-600":p.value.change<0,"text-green-600":p.value.change>0,"text-gray-500":0===p.value.change},"text-lg font-semibold"])}">${o(s.unref(f)(p.value.change))} (${o(s.unref(g)(p.value.changePercent))}) </div></div></div><div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div class="border rounded-lg p-3 text-center"><div class="text-sm text-gray-500 mb-1">成交量</div><div class="font-bold">${o((null==(y=p.value.volume)?void 0:y.toLocaleString())||"-")}</div></div><div class="border rounded-lg p-3 text-center"><div class="text-sm text-gray-500 mb-1">日期</div><div class="font-bold">${o(p.value.date||"-")}</div></div><div class="border rounded-lg p-3 text-center"><div class="text-sm text-gray-500 mb-1">52週最高</div><div class="font-bold">${o(s.unref(b)(1.2*p.value.price))}</div></div><div class="border rounded-lg p-3 text-center"><div class="text-sm text-gray-500 mb-1">52週最低</div><div class="font-bold">${o(s.unref(b)(.8*p.value.price))}</div></div></div></div><div class="bg-white rounded-lg shadow-md p-6 mb-6"><h2 class="text-xl font-semibold mb-4">模擬購買</h2><div class="flex items-center mb-6"><div class="mr-8"><div class="text-sm text-gray-500 mb-1">單價</div><div class="font-bold text-lg">${o(s.unref(b)(p.value.price))}</div></div><div><div class="text-sm text-gray-500 mb-1">數量</div><div class="flex items-center"><button class="border border-gray-300 rounded-l px-3 py-1 text-lg"> - </button><input${n("value",h.value)} type="number" class="border-t border-b border-gray-300 w-16 text-center py-1" min="1"><button class="border border-gray-300 rounded-r px-3 py-1 text-lg"> + </button></div></div><div class="ml-auto"><div class="text-sm text-gray-500 mb-1">小計</div><div class="font-bold text-lg">${o(s.unref(b)(p.value.price*h.value))}</div></div></div><div class="flex flex-col md:flex-row justify-between gap-4"><button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition"> 加入購物車 </button>`),r(l($,{to:"/cart",class:"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg text-center transition"},{default:s.withCtx(((e,t,r,d)=>{if(!t)return[s.createTextVNode(" 前往購物車 ")];t(" 前往購物車 ")})),_:1},d)),r(`</div><div style="${v(w.value?null:{display:"none"})}" class="mt-4 p-3 bg-green-50 text-green-700 rounded-lg"> 已成功加入購物車！ </div></div><div class="bg-white rounded-lg shadow-md p-6"><h2 class="text-xl font-semibold mb-4">公司資訊</h2><div class="space-y-3"><div class="border-b pb-3"><div class="text-sm text-gray-500 mb-1">營收</div><div class="font-medium">依季公告</div></div><div class="border-b pb-3"><div class="text-sm text-gray-500 mb-1">每股盈餘</div><div class="font-medium">依季公告</div></div><div class="border-b pb-3"><div class="text-sm text-gray-500 mb-1">配息資訊</div><div class="font-medium">依年公告</div></div></div><div class="mt-4 text-sm text-gray-500"><p>* 此頁面僅作為模擬交易用途，無法確保資料即時性</p><p>* 投資股票有賺有賠，請詳閱公開說明書</p></div></div>\x3c!--]--\x3e`)):(r(`<div class="bg-white rounded-lg shadow-md p-8 text-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto mb-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><h2 class="text-xl font-semibold mb-2">找不到股票資訊</h2><p class="text-gray-500 mb-4">無法找到代號為 ${o(s.unref(m))} 的股票資訊</p>`),r(l($,{to:"/",class:"inline-block px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},{default:s.withCtx(((e,t,r,d)=>{if(!t)return[s.createTextVNode(" 返回搜尋 ")];t(" 返回搜尋 ")})),_:1},d)),r("</div>")),r("</div>")}}}),m=c.setup;c.setup=(e,t)=>{const r=s.useSSRContext();return(r.modules||(r.modules=new Set)).add("pages/stock/[symbol].vue"),m?m(e,t):void 0};export{c as default};
//# sourceMappingURL=_symbol_.vue.mjs.map
