import{_ as t}from"./nuxt-link.mjs";import{u as e,v as s}from"./server.mjs";import{J as r,O as a,K as d,R as n,U as o}from"../routes/renderer.mjs";import"../nitro/nitro.mjs";const l=s.defineComponent({__name:"orders",__ssrInlineRender:!0,setup(l){!function(){const t=e();s.computed((()=>t.isAuthenticated)),s.computed((()=>t.user)),s.computed((()=>t.username))}();const p=s.ref([]),u=s.ref(!0),i=s.ref(null);return(e,l,c,x)=>{const m=t;l(`<div${r(s.mergeProps({class:"max-w-6xl mx-auto px-4"},x))}><h1 class="text-3xl font-bold my-8 text-center">訂單管理</h1>`),u.value?l('<div class="text-center py-12"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"></div><p>正在載入訂單資料...</p></div>'):i.value?l(`<div class="bg-red-50 text-red-700 p-6 rounded-lg text-center"><p class="font-bold">載入失敗</p><p>${a(i.value)}</p><button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"> 重試 </button></div>`):0===p.value.length?(l('<div class="bg-white rounded-lg shadow-md p-8 text-center"><div class="text-gray-500 mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><p class="text-lg mb-2">目前沒有訂單記錄</p><p>完成交易後，訂單會顯示在這裡</p></div>'),l(d(m,{to:"/",class:"inline-block mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"},{default:s.withCtx(((t,e,r,a)=>{if(!e)return[s.createTextVNode(" 開始購買 ")];e(" 開始購買 ")})),_:1},c)),l("</div>")):(l('<div class="bg-white rounded-lg shadow-md overflow-hidden"><table class="w-full"><thead class="bg-gray-100"><tr><th class="py-3 px-4 text-left">訂單編號</th><th class="py-3 px-4 text-left">建立時間</th><th class="py-3 px-4 text-left">付款方式</th><th class="py-3 px-4 text-right">金額</th><th class="py-3 px-4 text-center">狀態</th><th class="py-3 px-4 text-center">操作</th></tr></thead><tbody>\x3c!--[--\x3e'),n(p.value,(t=>{l(`<tr class="border-t border-gray-200"><td class="py-3 px-4">${a(t.orderId)}</td><td class="py-3 px-4">${a(function(t){if(!t)return"-";const e=new Date(t);return new Intl.DateTimeFormat("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(e)}(t.createdAt))}</td><td class="py-3 px-4">`),"credit_card"===t.paymentMethod?l("<span>信用卡</span>"):"atm"===t.paymentMethod?l("<span>ATM 轉帳</span>"):"cvs"===t.paymentMethod?l("<span>超商代碼</span>"):l(`<span>${a(t.paymentMethod)}</span>`),l(`</td><td class="py-3 px-4 text-right font-medium">${a(t.totalAmount)}</td><td class="py-3 px-4 text-center"><span class="${o([{"bg-green-100 text-green-800":"success"===t.status,"bg-yellow-100 text-yellow-800":"pending"===t.status,"bg-red-100 text-red-800":"failure"===t.status},"inline-block px-3 py-1 rounded-full text-sm"])}">${a(function(t){switch(t){case"success":return"交易成功";case"pending":return"處理中";case"failure":return"交易失敗";default:return"未知狀態"}}(t.status))}</span></td><td class="py-3 px-4 text-center">`),l(d(m,{to:`/result?orderId=${t.orderId}`,class:"text-blue-600 hover:text-blue-800 underline"},{default:s.withCtx(((t,e,r,a)=>{if(!e)return[s.createTextVNode(" 查看詳情 ")];e(" 查看詳情 ")})),_:2},c)),l("</td></tr>")})),l("\x3c!--]--\x3e</tbody></table></div>")),l("</div>")}}}),p=l.setup;l.setup=(t,e)=>{const r=s.useSSRContext();return(r.modules||(r.modules=new Set)).add("pages/admin/orders.vue"),p?p(t,e):void 0};export{l as default};
//# sourceMappingURL=orders.vue.mjs.map
