import{u as t}from"./useStocks.mjs";import{u as e}from"./useCart.mjs";import{v as s}from"./server.mjs";import{J as a,S as l,T as r,O as x,R as d,U as c}from"../routes/renderer.mjs";import"../nitro/nitro.mjs";const n=s.defineComponent({__name:"index",__ssrInlineRender:!0,setup(n){const o=s.ref(""),p=s.ref(null),{loading:i,error:u,searchStock:h,recentStocks:b}=t();e();const m=s.ref([]);return s.watch(o,(t=>{p.value&&clearTimeout(p.value),t.length>=2?p.value=setTimeout((async()=>{const e=await h(t);e&&(m.value=e)}),500):m.value=[]})),(t,e,n,p)=>{e(`<div${a(p)}><div class="max-w-4xl mx-auto mb-10"><div class="text-center my-8"><h1 class="text-3xl font-bold mb-2">台股模擬購買平台</h1><p class="text-gray-600"> 搜尋股票代碼或名稱，將其加入購物車進行模擬交易 </p></div><div class="mb-8"><div class="flex shadow-md rounded-lg overflow-hidden"><input${l("value",o.value)} type="text" placeholder="輸入股票代碼或名稱..." class="flex-grow p-4 outline-none text-lg"><button class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-4 transition"${r(s.unref(i))?" disabled":""}>`),s.unref(i)?e("<span>搜尋中...</span>"):e("<span>搜尋</span>"),e("</button></div>"),s.unref(u)?e(`<p class="mt-2 text-red-500">${x(s.unref(u))}</p>`):e("\x3c!----\x3e"),e("</div>"),m.value.length>0?(e('<div class="mb-10"><h2 class="text-xl font-semibold mb-4">搜尋結果</h2><div class="bg-white rounded-lg shadow overflow-hidden"><table class="w-full"><thead class="bg-gray-100"><tr><th class="py-3 px-4 text-left">代碼</th><th class="py-3 px-4 text-left">名稱</th><th class="py-3 px-4 text-left">產業</th><th class="py-3 px-4 text-right">價格</th><th class="py-3 px-4 text-center">操作</th></tr></thead><tbody>\x3c!--[--\x3e'),d(m.value,(t=>{e(`<tr class="border-t border-gray-200"><td class="py-3 px-4">${x(t.symbol)}</td><td class="py-3 px-4">${x(t.name)}</td><td class="py-3 px-4">${x(t.industry||"暫無資料")}</td><td class="py-3 px-4 text-right">`),t.price?(e(`\x3c!--[--\x3e${x(t.price.toFixed(2))} `),t.change?e(`<span class="${c({"text-red-500":t.change<0,"text-green-500":t.change>0})}"> (${x(t.change>0?"+":"")}${x(t.change.toFixed(2))}) </span>`):e("\x3c!----\x3e"),e("\x3c!--]--\x3e")):e("\x3c!--[--\x3e -- \x3c!--]--\x3e"),e('</td><td class="py-3 px-4 text-center"><button class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded transition"> 加入購物車 </button></td></tr>')})),e("\x3c!--]--\x3e</tbody></table></div></div>")):e("\x3c!----\x3e"),s.unref(b).length>0?(e('<div class="mb-10"><h2 class="text-xl font-semibold mb-4">最近查看</h2><div class="bg-white rounded-lg shadow overflow-hidden"><table class="w-full"><thead class="bg-gray-100"><tr><th class="py-3 px-4 text-left">代碼</th><th class="py-3 px-4 text-left">名稱</th><th class="py-3 px-4 text-right">價格</th><th class="py-3 px-4 text-center">操作</th></tr></thead><tbody>\x3c!--[--\x3e'),d(s.unref(b),(t=>{e(`<tr class="border-t border-gray-200"><td class="py-3 px-4">${x(t.symbol)}</td><td class="py-3 px-4">${x(t.name)}</td><td class="py-3 px-4 text-right">`),t.price?e(`\x3c!--[--\x3e${x(t.price.toFixed(2))}\x3c!--]--\x3e`):e("\x3c!--[--\x3e -- \x3c!--]--\x3e"),e('</td><td class="py-3 px-4 text-center"><button class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded transition"> 加入購物車 </button></td></tr>')})),e("\x3c!--]--\x3e</tbody></table></div></div>")):e("\x3c!----\x3e"),e("</div></div>")}}}),o=n.setup;n.setup=(t,e)=>{const a=s.useSSRContext();return(a.modules||(a.modules=new Set)).add("pages/index.vue"),o?o(t,e):void 0};export{n as default};
//# sourceMappingURL=index.vue.mjs.map
