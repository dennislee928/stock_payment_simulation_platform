# ğŸ§  Next.js é«˜éšè§€å¿µè£œå…… Cheat Sheet

## âœ… SEO èˆ‡ metadata ç®¡ç†

ä½¿ç”¨ metadata API ç®¡ç†å‹•æ…‹æ¨™é¡Œã€æè¿°ã€OpenGraph ä»¥åŠè‡ªå‹•ç”¢ç”Ÿ robots.txt å’Œ sitemap.xml

```mermaid
flowchart TD
    A[metadata static] -->|export const metadata| B[title, description]
    A --> C[OpenGraph, Twitter Card]
    D[generateMetadata()] -->|SSR å‹•æ…‹ç”¢ç”Ÿ| B
    B --> E[Next SEO Friendly é é¢]
```

## âœ… åœ–ç‰‡èˆ‡è³‡æºå„ªåŒ–ï¼ˆImageï¼‰

Next.js Image å…ƒä»¶è‡ªå‹•è™•ç†å£“ç¸®ã€æ‡¶åŠ è¼‰ã€CDN åˆ†ç™¼èˆ‡ä¸åŒ viewport å¤§å°

```mermaid
sequenceDiagram
    participant Dev as é–‹ç™¼è€…
    participant NextImg as <Image />
    participant User as ä½¿ç”¨è€…ç€è¦½å™¨
    Dev->>NextImg: è¨­å®š src, width, height
    NextImg->>User: lazy-load é©åˆçš„è§£æåº¦
    Note right of User: WebP, AVIF è½‰æ›
```

## âœ… Edge Functions èˆ‡ Runtime é¸æ“‡

æ ¹æ“š route æˆ– API éœ€æ±‚é¸æ“‡ edge function æˆ– node runtimeï¼Œå¼·åŒ–æ•ˆèƒ½èˆ‡è³‡å®‰

```mermaid
flowchart LR
    A[API Route] -->|éœ€è¦å¿«é€Ÿå›æ‡‰| B[Edge Runtime]
    A -->|éœ€è¦ DB/secret| C[Node.js Runtime]
    B --> D[ä½å»¶é²]
    C --> E[è¤‡é›œé‚è¼¯]
```

## âœ… ç’°å¢ƒè®Šæ•¸èˆ‡éƒ¨ç½²ç®¡ç†

åˆ©ç”¨ .env.local / .env.production ç®¡ç†ä¸åŒéšæ®µè®Šæ•¸ï¼Œä¸¦åœ¨ Vercel/Cloudflare Pages è¨­å®š UI è®Šæ•¸

```mermaid
graph TD
    A[.env.local] --> B[NEXT_PUBLIC_API_URL]
    A --> C[SECRET_KEY]
    B -->|å…¬é–‹| D[ç€è¦½å™¨å¯è¦‹]
    C -->|åƒ… server| E[å¾Œç«¯è™•ç†]
```

## âœ… CI/CD èˆ‡ Build è¨­å®š

æ•´åˆ GitHub Actionsï¼Œä½¿ç”¨ `next.config.js` è‡ªå®šç¾© basePathã€i18nã€trailingSlash ç­‰

```mermaid
flowchart LR
    A[GitHub Push] --> B[GitHub Actions]
    B --> C[npm run build]
    C --> D[next.config.js options]
    D --> E[App éƒ¨ç½²æˆåŠŸ]
```

